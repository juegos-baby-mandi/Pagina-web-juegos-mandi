<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Fiestas de Espuma - Juegos Baby Mandi</title>
  <link rel="stylesheet" href="styles/main.css" />
</head>
<body>
  
  <!-- Encabezado superior con íconos -->
  <header class="top-header">
    <div class="logo-header">
  <a href="index.html">
    <img src="img/logo.png" alt="Logo Juegos Baby Mandi" />
  </a>
</div>
    <div class="contact-links">
      <a href="https://wa.me/56946535784" target="_blank">📞 WhatsApp</a>
      <a href="https://www.instagram.com/juegosbabymandi" target="_blank">📷 Instagram</a>
      <a href="mailto:juegosbabymandi@gmail.com">📧 juegosbabymandi@gmail.com</a>
      <a href="https://fb.me/JuegosBabyMandi" target="_blank">👍 Facebook</a>
      <a href="https://www.tiktok.com/@juegosbabymandi" target="_blank">🎵 TikTok</a>
    </div>
  </header>
  <!-- Título de la sección -->
  <section class="titulo-seccion">
    <h1>Fiestas de Espuma</h1>
  </section>

<!-- juegos aca -->

  <!-- Footer con el menú completo -->
  <footer>
    <nav class="footer-nav">
      <ul>
        <li><a href="index.html">Inicio</a></li>
        <li><a href="catalogo.html">Catálogo</a></li>
        <li><a href="vision-mision.html">Visión y Misión</a></li>
        <li><a href="experiencias.html">Experiencias</a></li>
        <li><a href="testimonios.html">Testimonios</a></li>
        <li><a href="promociones.html">Promociones</a></li>
        <li><a href="eventos-empresas.html">Eventos Empresas</a></li>
        <li><a href="consejos.html">Consejos</a></li>
        <li><a href="contacto.html">Contacto</a></li>
      </ul>
    </nav>
    <p>&copy; 2025 Juegos Baby Mandi. Todos los derechos reservados.</p>
  </footer>

<!-- Sección flotante del carrito -->
<div id="carrito">
  <div id="carrito-toggle" onclick="toggleCarrito()">🔽</div>
  <div id="carrito-contenido">
    <h2>🛒 Carrito</h2>
    <ul id="carrito-lista"></ul>
    <p id="total-carrito"><strong>Total: $0</strong></p>
  </div>
  <div class="carrito-botones">
    <a id="enviar-carrito" href="#" target="_blank" class="boton-carrito">Cotizar por WhatsApp</a>
    <button id="vaciar-carrito" class="boton-vaciar">Vaciar Carrito</button>
  </div>
</div>

<!-- Mensaje flotante -->
<div id="mensaje-carrito" class="mensaje-carrito"></div>

<!-- Modal de confirmación -->
<div id="modal-confirmacion" class="modal">
  <div class="modal-contenido">
    <p id="modal-mensaje">¿Estás seguro que deseas eliminar este juego del carrito?</p>
    <div class="modal-botones">
      <button id="cancelar-btn">Cancelar</button>
      <button id="confirmar-btn">Sí, eliminar</button>
    </div>
  </div>
</div>
  <script>
  let carrito = JSON.parse(localStorage.getItem("carrito")) || [];
  let productoAEliminar = null;

  function agregarAlCarrito(nombre, precio) {
    carrito.push({ nombre, precio });
    localStorage.setItem("carrito", JSON.stringify(carrito));
    mostrarCarrito();
    mostrarMensaje("✅ " + nombre + " fue agregado al carrito.");
  }

  function mostrarCarrito() {
    const lista = document.getElementById("carrito-lista");
    const boton = document.getElementById("enviar-carrito");
    const totalElement = document.getElementById("total-carrito");
    const vaciarBtn = document.getElementById("vaciar-carrito");

    lista.innerHTML = "";
    let total = 0;

    carrito.forEach((item, index) => {
      const li = document.createElement("li");
      li.innerHTML = `
        ${item.nombre} - $${item.precio.toLocaleString()}
        <button class="btn-eliminar" data-index="${index}" style="margin-left: 10px;">❌</button>
      `;
      lista.appendChild(li);
      total += item.precio;
    });

    // Agregar evento a cada botón ❌
    setTimeout(() => {
      const botonesEliminar = document.querySelectorAll(".btn-eliminar");
      botonesEliminar.forEach(boton => {
        boton.addEventListener("click", function () {
          const index = parseInt(this.getAttribute("data-index"));
          eliminarProducto(index);
        });
      });
    }, 0);

    totalElement.innerHTML = `<strong>Total: $${total.toLocaleString()}</strong>`;

    if (carrito.length > 0) {
      const mensaje = carrito
        .map(item => `- ${item.nombre}: $${item.precio.toLocaleString()}`)
        .join("\n");

      const link = `https://wa.me/56946535784?text=Hola! Quiero cotizar:\n${mensaje}`;
      boton.href = link;
      boton.style.display = "inline-block";
      vaciarBtn.style.display = "inline-block";
    } else {
      boton.style.display = "none";
      vaciarBtn.style.display = "none";
    }
  }

  function vaciarCarrito() {
    carrito = [];
    localStorage.removeItem("carrito");
    mostrarCarrito();
    mostrarMensaje("🗑️ Carrito vaciado.");
  }

  function eliminarProducto(index) {
    productoAEliminar = index;
    document.getElementById("modal-confirmacion").style.display = "flex";
  }

  document.addEventListener("DOMContentLoaded", () => {
    mostrarCarrito();

    document.getElementById("vaciar-carrito").addEventListener("click", vaciarCarrito);

    document.getElementById("confirmar-btn").addEventListener("click", () => {
      if (productoAEliminar !== null) {
        carrito.splice(productoAEliminar, 1);
        localStorage.setItem("carrito", JSON.stringify(carrito));
        mostrarCarrito();
        mostrarMensaje("❌ Producto eliminado del carrito.");
      }
      document.getElementById("modal-confirmacion").style.display = "none";
      productoAEliminar = null;
    });

    document.getElementById("cancelar-btn").addEventListener("click", () => {
      document.getElementById("modal-confirmacion").style.display = "none";
      productoAEliminar = null;
    });
  });

  function mostrarMensaje(texto) {
    const mensaje = document.createElement("div");
    mensaje.textContent = texto;
    mensaje.style.position = "fixed";
    mensaje.style.bottom = "20px";
    mensaje.style.right = "20px";
    mensaje.style.background = "#8e44ad";
    mensaje.style.color = "#fff";
    mensaje.style.padding = "10px 15px";
    mensaje.style.borderRadius = "6px";
    mensaje.style.zIndex = "10000";
    document.body.appendChild(mensaje);

    setTimeout(() => {
      mensaje.remove();
    }, 2500);
  }
  function eliminarProducto(index) {
  productoAEliminar = index;
  document.getElementById("modal-confirmacion").style.display = "flex";
}


function toggleCarrito() {
  const carrito = document.getElementById("carrito");
  const contenido = document.getElementById("carrito-contenido");
  const toggle = document.getElementById("carrito-toggle");
  
  carrito.classList.toggle("minimizado");
  if (carrito.classList.contains("minimizado")) {
    contenido.style.display = "none";
    toggle.textContent = "🔼";
  } else {
    contenido.style.display = "block";
    toggle.textContent = "🔽";
  }
}

</script>



</body>
</html>
  
